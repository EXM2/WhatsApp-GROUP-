<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù‚Ø±ÙˆØ¨Ø§Øª ÙˆØ§ØªØ³Ø§Ø¨ - Ø¯Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ Ø°ÙƒÙŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            direction: rtl;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            position: relative;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .ai-badge {
            position: absolute;
            top: 0;
            left: 0;
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 10px rgba(255, 107, 107, 0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .stat-item {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            padding: 15px 30px;
            border-radius: 15px;
            color: white;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            min-width: 150px;
        }

        .stat-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .stat-item .number {
            font-size: 2rem;
            font-weight: bold;
            display: block;
        }

        .stat-item .label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .actions-bar {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .add-group-btn, .ai-suggest-btn {
            padding: 15px 40px;
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .add-group-btn {
            background: linear-gradient(135deg, #25d366 0%, #128c7e 100%);
        }

        .add-group-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.6);
        }

        .ai-suggest-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .ai-suggest-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            backdrop-filter: blur(5px);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: slideDown 0.3s ease;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .close-modal {
            position: absolute;
            top: 15px;
            left: 15px;
            font-size: 2rem;
            background: none;
            border: none;
            cursor: pointer;
            color: #666;
            transition: all 0.3s;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-modal:hover {
            background: #f5f5f5;
            color: #ff4d4d;
            transform: rotate(90deg);
        }

        .modal-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 25px;
        }

        .modal-header h2 {
            color: #333;
            font-size: 1.5rem;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .form-group label .required {
            color: #ff4d4d;
        }

        .form-group label i {
            color: #25d366;
        }

        .form-group input[type="text"],
        .form-group input[type="number"],
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-family: 'Tajawal', Arial, sans-serif;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #25d366;
            box-shadow: 0 0 0 3px rgba(37, 211, 102, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .char-counter {
            text-align: left;
            font-size: 0.85rem;
            color: #999;
            margin-top: 5px;
        }

        .image-upload {
            border: 2px dashed #e0e0e0;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            background: #fafafa;
        }

        .image-upload:hover {
            border-color: #25d366;
            background: #f0f8f4;
        }

        .image-upload.has-image {
            padding: 0;
            border: 2px solid #25d366;
        }

        .image-upload.dragover {
            border-color: #25d366;
            background: #e8f5e9;
        }

        .image-preview {
            max-width: 100%;
            max-height: 300px;
            border-radius: 10px;
            display: none;
            object-fit: cover;
            width: 100%;
            height: 300px;
        }

        .image-preview.show {
            display: block;
        }

        .upload-text {
            color: #666;
        }

        .upload-text .icon {
            font-size: 3rem;
            display: block;
            margin-bottom: 10px;
            color: #25d366;
        }

        .remove-image {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(255, 77, 77, 0.9);
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            z-index: 10;
        }

        .remove-image:hover {
            background: #cc0000;
            transform: scale(1.1);
        }

        .remove-image.show {
            display: flex;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background: #fff3cd;
            border-radius: 10px;
            border: 2px solid #ffc107;
        }

        .checkbox-group input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: #ffc107;
        }

        .checkbox-group label {
            margin: 0;
            cursor: pointer;
            color: #856404;
            font-weight: 500;
        }

        .members-input {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .members-input input {
            flex: 1;
        }

        .members-hint {
            font-size: 0.85rem;
            color: #999;
            margin-top: 5px;
        }

        .submit-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #25d366 0%, #128c7e 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.4);
        }

        .submit-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .submit-btn .loading {
            display: none;
        }

        .submit-btn.loading .text {
            display: none;
        }

        .submit-btn.loading .loading {
            display: inline-block;
        }

        .filters {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .filters h3 {
            margin-bottom: 15px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .filter-options {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .filter-btn {
            padding: 10px 20px;
            background: #f0f0f0;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Tajawal', Arial, sans-serif;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-btn:hover {
            background: #e0e0e0;
            transform: translateY(-2px);
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #25d366 0%, #128c7e 100%);
            color: white;
            border-color: #25d366;
        }

        .search-box {
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 12px 20px 12px 50px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-family: 'Tajawal', Arial, sans-serif;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .search-box input:focus {
            outline: none;
            border-color: #25d366;
            box-shadow: 0 0 0 3px rgba(37, 211, 102, 0.1);
        }

        .search-box i {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }

        .sort-options {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            align-items: center;
        }

        .sort-options label {
            font-size: 0.9rem;
            color: #666;
        }

        .sort-options select {
            padding: 8px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            font-family: 'Tajawal', Arial, sans-serif;
            cursor: pointer;
            transition: all 0.3s;
        }

        .sort-options select:focus {
            outline: none;
            border-color: #25d366;
        }

        .groups-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .group-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            position: relative;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .group-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        .group-image-container {
            position: relative;
            overflow: hidden;
            height: 200px;
        }

        .group-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }

        .group-card:hover .group-image {
            transform: scale(1.1);
        }

        .adult-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(135deg, #ff4d4d 0%, #cc0000 100%);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
            z-index: 2;
            box-shadow: 0 4px 10px rgba(255, 77, 77, 0.3);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .group-category {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(37, 211, 102, 0.9);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            z-index: 2;
            backdrop-filter: blur(5px);
        }

        .members-badge {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            z-index: 2;
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .group-content {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .group-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
            line-height: 1.4;
        }

        .group-description {
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 15px;
            line-height: 1.6;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            flex-grow: 1;
        }

        .group-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            font-size: 0.85rem;
            color: #999;
        }

        .group-actions {
            display: flex;
            gap: 10px;
            margin-top: auto;
        }

        .join-btn, .delete-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-family: 'Tajawal', Arial, sans-serif;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .join-btn {
            background: linear-gradient(135deg, #25d366 0%, #128c7e 100%);
            color: white;
        }

        .join-btn:hover {
            background: linear-gradient(135deg, #128c7e 0%, #0a6b5c 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(37, 211, 102, 0.3);
        }

        .delete-btn {
            background: linear-gradient(135deg, #ff4d4d 0%, #cc0000 100%);
            color: white;
        }

        .delete-btn:hover {
            background: linear-gradient(135deg, #cc0000 0%, #990000 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(255, 77, 77, 0.3);
        }

        .no-groups {
            text-align: center;
            padding: 60px 20px;
            background: white;
            border-radius: 15px;
            color: #666;
            grid-column: 1 / -1;
        }

        .no-groups .icon {
            font-size: 5rem;
            margin-bottom: 20px;
            display: block;
            opacity: 0.2;
        }

        .no-groups h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #333;
        }

        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #333;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            opacity: 0;
            transform: translateY(100px);
            transition: all 0.3s;
            z-index: 2000;
            display: flex;
            align-items: center;
            gap: 10px;
            max-width: 350px;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        .toast.success {
            background: linear-gradient(135deg, #25d366 0%, #128c7e 100%);
        }

        .toast.error {
            background: linear-gradient(135deg, #ff4d4d 0%, #cc0000 100%);
        }

        .toast.info {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .toast .toast-icon {
            font-size: 1.2rem;
        }

        .ai-suggestions {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: none;
        }

        .ai-suggestions.show {
            display: block;
        }

        .ai-suggestions h3 {
            margin-bottom: 15px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .suggestions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }

        .suggestion-item {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .suggestion-item:hover {
            background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
            border-color: #25d366;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .suggestion-item .icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .suggestion-item h4 {
            color: #333;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .suggestion-item p {
            color: #666;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .footer {
            text-align: center;
            color: white;
            padding: 20px;
            margin-top: 30px;
            opacity: 0.8;
            font-size: 0.9rem;
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .export-import-bar {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .export-btn, .import-btn {
            padding: 10px 25px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Tajawal', Arial, sans-serif;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }

        .export-btn:hover, .import-btn:hover {
            border-color: #25d366;
            background: #f0f8f4;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .ai-badge {
                position: static;
                margin: 0 auto 15px;
                width: fit-content;
            }

            .groups-grid {
                grid-template-columns: 1fr;
            }

            .stats {
                gap: 15px;
            }

            .stat-item {
                min-width: 120px;
                padding: 12px 20px;
            }

            .filter-options {
                gap: 10px;
            }

            .modal-content {
                padding: 20px;
            }

            .actions-bar {
                flex-direction: column;
                align-items: stretch;
            }

            .add-group-btn, .ai-suggest-btn {
                width: 100%;
                justify-content: center;
            }

            .suggestions-grid {
                grid-template-columns: 1fr;
            }

            .export-import-bar {
                flex-direction: column;
            }

            .export-btn, .import-btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="ai-badge">
                <i class="fas fa-robot"></i>
                Ù…Ø¯Ø¹ÙˆÙ… Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
            </div>
            <h1><i class="fab fa-whatsapp"></i> Ù‚Ø±ÙˆØ¨Ø§Øª ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø°ÙƒÙŠØ©</h1>
            <p>Ø§ÙƒØªØ´Ù ÙˆØ§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø¢Ù„Ø§Ù Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙÙŠ Ù…Ø®ØªÙ„Ù Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª â€¢ Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ Ù…ØªØ·ÙˆØ± â€¢ Ù…Ø¬ØªÙ…Ø¹ Ù†Ø´Ø·</p>
        </div>

        <!-- Statistics -->
        <div class="stats">
            <div class="stat-item" onclick="showStats('total')">
                <span class="number" id="totalGroups">0</span>
                <span class="label"><i class="fas fa-users"></i> Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚Ø±ÙˆØ¨Ø§Øª</span>
            </div>
            <div class="stat-item" onclick="showStats('today')">
                <span class="number" id="todayGroups">0</span>
                <span class="label"><i class="fas fa-calendar-day"></i> Ù‚Ø±ÙˆØ¨Ø§Øª Ø§Ù„ÙŠÙˆÙ…</span>
            </div>
            <div class="stat-item" onclick="showStats('categories')">
                <span class="number" id="categoriesCount">8</span>
                <span class="label"><i class="fas fa-layer-group"></i> Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</span>
            </div>
            <div class="stat-item" onclick="showStats('members')">
                <span class="number" id="totalMembers">0</span>
                <span class="label"><i class="fas fa-user-friends"></i> Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡</span>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="actions-bar">
            <button class="add-group-btn" onclick="openModal()">
                <i class="fas fa-plus-circle"></i>
                <span>Ø£Ø¶Ù Ù‚Ø±ÙˆØ¨ Ø¬Ø¯ÙŠØ¯</span>
            </button>
            <button class="ai-suggest-btn" onclick="toggleAISuggestions()">
                <i class="fas fa-magic"></i>
                <span>Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø°ÙƒÙŠØ©</span>
            </button>
        </div>

        <!-- AI Suggestions -->
        <div class="ai-suggestions" id="aiSuggestions">
            <h3><i class="fas fa-robot"></i> Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù…Ø®ØµØµØ© Ù„Ùƒ</h3>
            <div class="suggestions-grid" id="suggestionsGrid">
                <!-- Suggestions will be dynamically added -->
            </div>
        </div>

        <!-- Export/Import Bar -->
        <div class="export-import-bar">
            <button class="export-btn" onclick="exportData()">
                <i class="fas fa-download"></i>
                <span>ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>
            </button>
            <button class="import-btn" onclick="document.getElementById('importFile').click()">
                <i class="fas fa-upload"></i>
                <span>Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>
            </button>
            <input type="file" id="importFile" accept=".json" style="display: none;" onchange="importData(event)">
        </div>

        <!-- Filters -->
        <div class="filters">
            <h3><i class="fas fa-filter"></i> ØªØµÙÙŠØ© ÙˆØ¨Ø­Ø«</h3>
            <div class="filter-options">
                <button class="filter-btn active" data-category="all" onclick="filterByCategory('all')">
                    <i class="fas fa-globe"></i> Ø§Ù„ÙƒÙ„
                </button>
                <button class="filter-btn" data-category="ØªØ¹Ù„ÙŠÙ…" onclick="filterByCategory('ØªØ¹Ù„ÙŠÙ…')">
                    <i class="fas fa-graduation-cap"></i> ØªØ¹Ù„ÙŠÙ…
                </button>
                <button class="filter-btn" data-category="ØªÙ‚Ù†ÙŠØ©" onclick="filterByCategory('ØªÙ‚Ù†ÙŠØ©')">
                    <i class="fas fa-laptop-code"></i> ØªÙ‚Ù†ÙŠØ©
                </button>
                <button class="filter-btn" data-category="Ø±ÙŠØ§Ø¶Ø©" onclick="filterByCategory('Ø±ÙŠØ§Ø¶Ø©')">
                    <i class="fas fa-futbol"></i> Ø±ÙŠØ§Ø¶Ø©
                </button>
                <button class="filter-btn" data-category="ØªØ±ÙÙŠÙ‡" onclick="filterByCategory('ØªØ±ÙÙŠÙ‡')">
                    <i class="fas fa-gamepad"></i> ØªØ±ÙÙŠÙ‡
                </button>
                <button class="filter-btn" data-category="Ø£Ø¹Ù…Ø§Ù„" onclick="filterByCategory('Ø£Ø¹Ù…Ø§Ù„')">
                    <i class="fas fa-briefcase"></i> Ø£Ø¹Ù…Ø§Ù„
                </button>
                <button class="filter-btn" data-category="ØµØ­Ø©" onclick="filterByCategory('ØµØ­Ø©')">
                    <i class="fas fa-heartbeat"></i> ØµØ­Ø©
                </button>
                <button class="filter-btn" data-category="Ø³ÙØ±" onclick="filterByCategory('Ø³ÙØ±')">
                    <i class="fas fa-plane"></i> Ø³ÙØ±
                </button>
                <button class="filter-btn" data-category="Ø·Ø¨Ø®" onclick="filterByCategory('Ø·Ø¨Ø®')">
                    <i class="fas fa-utensils"></i> Ø·Ø¨Ø®
                </button>
            </div>
            
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù‚Ø±ÙˆØ¨ Ø¨Ø§Ù„Ø¹Ù†ÙˆØ§Ù†ØŒ Ø§Ù„ÙˆØµÙØŒ Ø£Ùˆ Ø§Ù„ØªØµÙ†ÙŠÙ..." oninput="searchGroups()">
            </div>

            <div class="sort-options">
                <label><i class="fas fa-sort"></i> ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨:</label>
                <select id="sortSelect" onchange="sortGroups()">
                    <option value="newest">Ø§Ù„Ø£Ø­Ø¯Ø«</option>
                    <option value="oldest">Ø§Ù„Ø£Ù‚Ø¯Ù…</option>
                    <option value="members">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡</option>
                    <option value="title">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ø£-ÙŠ)</option>
                </select>
            </div>
        </div>

        <!-- Groups Grid -->
        <div class="groups-grid" id="groupsContainer">
            <!-- Groups will be displayed here -->
        </div>

        <!-- Add Group Modal -->
        <div class="modal" id="addGroupModal">
            <div class="modal-content">
                <button class="close-modal" onclick="closeModal()">Ã—</button>
                <div class="modal-header">
                    <i class="fas fa-plus-circle" style="color: #25d366; font-size: 1.8rem;"></i>
                    <h2>Ø¥Ø¶Ø§ÙØ© Ù‚Ø±ÙˆØ¨ Ø¬Ø¯ÙŠØ¯</h2>
                </div>
                
                <form id="addGroupForm" onsubmit="addGroup(event)">
                    <!-- Group Title -->
                    <div class="form-group">
                        <label>
                            <i class="fas fa-heading"></i>
                            Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚Ø±ÙˆØ¨ <span class="required">*</span>
                        </label>
                        <input type="text" id="groupTitle" placeholder="Ù…Ø«Ø§Ù„: Ù‚Ø±ÙˆØ¨ ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ†" required maxlength="100">
                        <div class="char-counter" id="titleCounter">0/100</div>
                    </div>

                    <!-- Group Description -->
                    <div class="form-group">
                        <label>
                            <i class="fas fa-align-left"></i>
                            ÙˆØµÙ Ø§Ù„Ù‚Ø±ÙˆØ¨ <span class="required">*</span>
                        </label>
                        <textarea id="groupDescription" placeholder="Ø§ÙƒØªØ¨ ÙˆØµÙØ§Ù‹ Ù…ÙØµÙ„Ø§Ù‹ Ø¹Ù† Ø§Ù„Ù‚Ø±ÙˆØ¨ØŒ Ù…Ø­ØªÙˆØ§Ù‡ØŒ ÙˆØ£Ù‡Ø¯Ø§ÙÙ‡..." required maxlength="500"></textarea>
                        <div class="char-counter" id="descCounter">0/500</div>
                    </div>

                    <!-- WhatsApp Link -->
                    <div class="form-group">
                        <label>
                            <i class="fab fa-whatsapp"></i>
                            Ø±Ø§Ø¨Ø· Ø§Ù„Ù‚Ø±ÙˆØ¨ <span class="required">*</span>
                        </label>
                        <input type="text" id="whatsappLink" placeholder="https://chat.whatsapp.com/..." required>
                    </div>

                    <!-- Category -->
                    <div class="form-group">
                        <label>
                            <i class="fas fa-tags"></i>
                            Ø§Ù„ØªØµÙ†ÙŠÙ <span class="required">*</span>
                        </label>
                        <select id="groupCategory" required>
                            <option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨</option>
                            <option value="ØªØ¹Ù„ÙŠÙ…">ğŸ“š ØªØ¹Ù„ÙŠÙ…</option>
                            <option value="ØªÙ‚Ù†ÙŠØ©">ğŸ’» ØªÙ‚Ù†ÙŠØ©</option>
                            <option value="Ø±ÙŠØ§Ø¶Ø©">âš½ Ø±ÙŠØ§Ø¶Ø©</option>
                            <option value="ØªØ±ÙÙŠÙ‡">ğŸ® ØªØ±ÙÙŠÙ‡</option>
                            <option value="Ø£Ø¹Ù…Ø§Ù„">ğŸ’¼ Ø£Ø¹Ù…Ø§Ù„</option>
                            <option value="ØµØ­Ø©">ğŸ¥ ØµØ­Ø©</option>
                            <option value="Ø³ÙØ±">âœˆï¸ Ø³ÙØ±</option>
                            <option value="Ø·Ø¨Ø®">ğŸ³ Ø·Ø¨Ø®</option>
                        </select>
                    </div>

                    <!-- Members Count -->
                    <div class="form-group">
                        <label>
                            <i class="fas fa-users"></i>
                            Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ (ØªÙ‚Ø±ÙŠØ¨ÙŠ)
                        </label>
                        <input type="number" id="membersCount" placeholder="Ù…Ø«Ø§Ù„: 150" min="1" max="999999">
                        <div class="members-hint">Ø§Ø®ØªÙŠØ§Ø±ÙŠ - Ø³ÙŠØ³Ø§Ø¹Ø¯ ÙÙŠ ØªØ±ØªÙŠØ¨ Ø§Ù„Ù‚Ø±ÙˆØ¨Ø§Øª</div>
                    </div>

                    <!-- Image Upload -->
                    <div class="form-group">
                        <label>
                            <i class="fas fa-image"></i>
                            ØµÙˆØ±Ø© Ø§Ù„Ù‚Ø±ÙˆØ¨ <span class="required">*</span>
                        </label>
                        <div class="image-upload" id="imageUpload" onclick="document.getElementById('imageInput').click()">
                            <button type="button" class="remove-image" id="removeImageBtn" onclick="removeImage(event)">
                                <i class="fas fa-times"></i>
                            </button>
                            <img id="imagePreview" class="image-preview">
                            <div class="upload-text" id="uploadText">
                                <i class="fas fa-cloud-upload-alt icon"></i>
                                <p><strong>Ø§Ù†Ù‚Ø± Ù„Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ø£Ùˆ Ø§Ø³Ø­Ø¨Ù‡Ø§ Ù‡Ù†Ø§</strong></p>
                                <p style="font-size: 0.9rem; color: #999;">JPG, PNG, GIF (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰: 5MB)</p>
                            </div>
                        </div>
                        <input type="file" id="imageInput" accept="image/*" style="display: none;" onchange="previewImage(event)" required>
                    </div>

                    <!-- Adult Content -->
                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="isAdult">
                            <label for="isAdult">
                                <i class="fas fa-exclamation-triangle"></i>
                                Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø±ÙˆØ¨ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ø­ØªÙˆÙ‰ Ù„Ù„Ø¨Ø§Ù„ØºÙŠÙ† ÙÙ‚Ø· (+18)
                            </label>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="submit-btn" id="submitBtn">
                        <span class="text"><i class="fas fa-check-circle"></i> Ù†Ø´Ø± Ø§Ù„Ù‚Ø±ÙˆØ¨ Ø§Ù„Ø¢Ù†</span>
                        <span class="loading"><i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù†Ø´Ø±...</span>
                    </button>
                </form>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Â© 2024 Ù‚Ø±ÙˆØ¨Ø§Øª ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø°ÙƒÙŠØ© â€¢ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
            <p style="margin-top: 10px; font-size: 0.85rem;">
                <i class="fas fa-shield-alt"></i> Ù…Ù†ØµØ© Ø¢Ù…Ù†Ø© ÙˆÙ…Ø­Ù…ÙŠØ©
            </p>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <span class="toast-icon"></span>
        <span class="toast-message"></span>
    </div>

    <script>
        // Global Variables
        let currentFilter = 'all';
        let groups = [];
        let sortBy = 'newest';

        // Initialize
        window.onload = function() {
            loadGroups();
            updateStats();
            setupDragAndDrop();
            setupCharCounters();
            generateAISuggestions();
        };

        // Setup Character Counters
        function setupCharCounters() {
            const titleInput = document.getElementById('groupTitle');
            const descInput = document.getElementById('groupDescription');
            
            titleInput.addEventListener('input', () => {
                document.getElementById('titleCounter').textContent = `${titleInput.value.length}/100`;
            });
            
            descInput.addEventListener('input', () => {
                document.getElementById('descCounter').textContent = `${descInput.value.length}/500`;
            });
        }

        // Setup Drag and Drop for Image Upload
        function setupDragAndDrop() {
            const uploadArea = document.getElementById('imageUpload');
            
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, preventDefaults, false);
            });
            
            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }
            
            ['dragenter', 'dragover'].forEach(eventName => {
                uploadArea.addEventListener(eventName, () => {
                    uploadArea.classList.add('dragover');
                }, false);
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, () => {
                    uploadArea.classList.remove('dragover');
                }, false);
            });
            
            uploadArea.addEventListener('drop', handleDrop, false);
            
            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                
                if (files.length > 0) {
                    const file = files[0];
                    if (file.type.startsWith('image/')) {
                        document.getElementById('imageInput').files = files;
                        previewImage({ target: { files: [file] } });
                    } else {
                        showToast('ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ Ù…Ù„Ù ØµÙˆØ±Ø© ÙÙ‚Ø·', 'error', 'fas fa-exclamation-circle');
                    }
                }
            }
        }

        // Open Modal
        function openModal() {
            document.getElementById('addGroupModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Close Modal
        function closeModal() {
            document.getElementById('addGroupModal').classList.remove('active');
            document.body.style.overflow = 'auto';
            resetForm();
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('addGroupModal');
            if (event.target === modal) {
                closeModal();
            }
        };

        // Preview Image
        function previewImage(event) {
            const file = event.target.files[0];
            if (file) {
                // Check file size (5MB limit)
                if (file.size > 5 * 1024 * 1024) {
                    showToast('Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹! Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 5MB', 'error', 'fas fa-exclamation-circle');
                    event.target.value = '';
                    return;
                }

                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById('imagePreview');
                    const uploadText = document.getElementById('uploadText');
                    const imageUpload = document.getElementById('imageUpload');
                    const removeBtn = document.getElementById('removeImageBtn');
                    
                    preview.src = e.target.result;
                    preview.classList.add('show');
                    uploadText.style.display = 'none';
                    imageUpload.classList.add('has-image');
                    removeBtn.classList.add('show');
                };
                reader.readAsDataURL(file);
            }
        }

        // Remove Image
        function removeImage(event) {
            event.stopPropagation();
            
            const preview = document.getElementById('imagePreview');
            const uploadText = document.getElementById('uploadText');
            const imageUpload = document.getElementById('imageUpload');
            const removeBtn = document.getElementById('removeImageBtn');
            const imageInput = document.getElementById('imageInput');
            
            preview.classList.remove('show');
            preview.src = '';
            uploadText.style.display = 'block';
            imageUpload.classList.remove('has-image');
            removeBtn.classList.remove('show');
            imageInput.value = '';
        }

        // Reset Form
        function resetForm() {
            document.getElementById('addGroupForm').reset();
            removeImage({ stopPropagation: () => {} });
            document.getElementById('titleCounter').textContent = '0/100';
            document.getElementById('descCounter').textContent = '0/500';
        }

        // Validate WhatsApp Link
        function validateWhatsAppLink(link) {
            return link.includes('chat.whatsapp.com') && link.startsWith('https://');
        }

        // Add Group
        function addGroup(event) {
            event.preventDefault();

            const title = document.getElementById('groupTitle').value.trim();
            const description = document.getElementById('groupDescription').value.trim();
            const link = document.getElementById('whatsappLink').value.trim();
            const category = document.getElementById('groupCategory').value;
            const isAdult = document.getElementById('isAdult').checked;
            const membersCount = parseInt(document.getElementById('membersCount').value) || 0;
            const imageInput = document.getElementById('imageInput');
            const submitBtn = document.getElementById('submitBtn');

            // Validate link
            if (!validateWhatsAppLink(link)) {
                showToast('Ø±Ø§Ø¨Ø· ÙˆØ§ØªØ³Ø§Ø¨ ØºÙŠØ± ØµØ§Ù„Ø­! ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ù€ https://chat.whatsapp.com/', 'error', 'fas fa-exclamation-circle');
                return;
            }

            // Show loading
            submitBtn.classList.add('loading');
            submitBtn.disabled = true;

            // Get image as base64
            const file = imageInput.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const group = {
                        id: Date.now(),
                        title: title,
                        description: description,
                        link: link,
                        category: category,
                        isAdult: isAdult,
                        membersCount: membersCount,
                        image: e.target.result,
                        date: new Date().toISOString(),
                        dateAdded: new Date().toLocaleDateString('ar-SA'),
                        views: 0
                    };

                    saveGroup(group);
                    
                    // Hide loading
                    submitBtn.classList.remove('loading');
                    submitBtn.disabled = false;
                    
                    showToast('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø±ÙˆØ¨ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰', 'success', 'fas fa-check-circle');
                    closeModal();
                    loadGroups();
                    updateStats();
                };
                reader.readAsDataURL(file);
            }
        }

        // Save Group to localStorage
        function saveGroup(group) {
            groups = JSON.parse(localStorage.getItem('whatsappGroups')) || [];
            groups.unshift(group);
            localStorage.setItem('whatsappGroups', JSON.stringify(groups));
        }

        // Load Groups
        function loadGroups() {
            groups = JSON.parse(localStorage.getItem('whatsappGroups')) || [];
            applyFiltersAndSort();
        }

        // Apply Filters and Sort
        function applyFiltersAndSort() {
            let filtered = [...groups];
            
            // Apply category filter
            if (currentFilter !== 'all') {
                filtered = filtered.filter(group => group.category === currentFilter);
            }
            
            // Apply search filter
            const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
            if (searchTerm) {
                filtered = filtered.filter(group => 
                    group.title.toLowerCase().includes(searchTerm) ||
                    group.description.toLowerCase().includes(searchTerm) ||
                    group.category.toLowerCase().includes(searchTerm)
                );
            }
            
            // Apply sorting
            filtered.sort((a, b) => {
                switch(sortBy) {
                    case 'newest':
                        return new Date(b.date) - new Date(a.date);
                    case 'oldest':
                        return new Date(a.date) - new Date(b.date);
                    case 'members':
                        return (b.membersCount || 0) - (a.membersCount || 0);
                    case 'title':
                        return a.title.localeCompare(b.title, 'ar');
                    default:
                        return 0;
                }
            });
            
            displayGroups(filtered);
        }

        // Display Groups
        function displayGroups(groupsToDisplay) {
            const container = document.getElementById('groupsContainer');
            
            if (groupsToDisplay.length === 0) {
                container.innerHTML = `
                    <div class="no-groups">
                        <i class="fas fa-inbox icon"></i>
                        <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚Ø±ÙˆØ¨Ø§Øª</h3>
                        <p>Ø¬Ø±Ø¨ ØªØºÙŠÙŠØ± Ø§Ù„ÙÙ„Ø§ØªØ± Ø£Ùˆ ÙƒÙ† Ø£ÙˆÙ„ Ù…Ù† ÙŠØ¶ÙŠÙ Ù‚Ø±ÙˆØ¨!</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = '';
            groupsToDisplay.forEach(group => {
                const card = document.createElement('div');
                card.className = 'group-card';
                card.innerHTML = `
                    <div class="group-image-container">
                        <img src="${group.image}" alt="${group.title}" class="group-image" loading="lazy">
                        ${group.isAdult ? '<div class="adult-badge"><i class="fas fa-exclamation-triangle"></i> +18</div>' : ''}
                        <div class="group-category">${group.category}</div>
                        ${group.membersCount ? `<div class="members-badge"><i class="fas fa-users"></i> ${formatNumber(group.membersCount)}</div>` : ''}
                    </div>
                    <div class="group-content">
                        <h3 class="group-title">${group.title}</h3>
                        <p class="group-description">${group.description}</p>
                        <div class="group-meta">
                            <span><i class="fas fa-calendar"></i> ${group.dateAdded}</span>
                            <span><i class="fas fa-tag"></i> ${group.category}</span>
                        </div>
                        <div class="group-actions">
                            <a href="${group.link}" target="_blank" class="join-btn" onclick="incrementViews(${group.id})">
                                <i class="fab fa-whatsapp"></i>
                                <span>Ø§Ù†Ø¶Ù… Ø§Ù„Ø¢Ù†</span>
                            </a>
                            <button class="delete-btn" onclick="deleteGroup(${group.id})">
                                <i class="fas fa-trash"></i>
                                <span>Ø­Ø°Ù</span>
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // Format Number
        function formatNumber(num) {
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + 'Ù…';
            } else if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'Ùƒ';
            }
            return num.toString();
        }

        // Increment Views (for analytics)
        function incrementViews(id) {
            const index = groups.findIndex(g => g.id === id);
            if (index !== -1) {
                groups[index].views = (groups[index].views || 0) + 1;
                localStorage.setItem('whatsappGroups', JSON.stringify(groups));
            }
        }

        // Delete Group
        function deleteGroup(id) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø±ÙˆØ¨ØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡.')) {
                groups = groups.filter(group => group.id !== id);
                localStorage.setItem('whatsappGroups', JSON.stringify(groups));
                loadGroups();
                updateStats();
                showToast('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù‚Ø±ÙˆØ¨ Ø¨Ù†Ø¬Ø§Ø­', 'success', 'fas fa-check-circle');
            }
        }

        // Filter by Category
        function filterByCategory(category) {
            currentFilter = category;
            
            // Update active button
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.category === category) {
                    btn.classList.add('active');
                }
            });

            applyFiltersAndSort();
        }

        // Search Groups
        function searchGroups() {
            applyFiltersAndSort();
        }

        // Sort Groups
        function sortGroups() {
            sortBy = document.getElementById('sortSelect').value;
            applyFiltersAndSort();
        }

        // Update Statistics
        function updateStats() {
            const today = new Date().toLocaleDateString('ar-SA');
            const todayGroups = groups.filter(group => group.dateAdded === today);
            const totalMembers = groups.reduce((sum, group) => sum + (group.membersCount || 0), 0);
            
            document.getElementById('totalGroups').textContent = groups.length;
            document.getElementById('todayGroups').textContent = todayGroups.length;
            document.getElementById('totalMembers').textContent = formatNumber(totalMembers);
        }

        // Show Stats (Click on stat items)
        function showStats(type) {
            let message = '';
            switch(type) {
                case 'total':
                    message = `Ù„Ø¯ÙŠÙƒ ${groups.length} Ù‚Ø±ÙˆØ¨ Ù…Ø³Ø¬Ù„ ÙÙŠ Ø§Ù„Ù…Ù†ØµØ©`;
                    break;
                case 'today':
                    const today = new Date().toLocaleDateString('ar-SA');
                    const count = groups.filter(g => g.dateAdded === today).length;
                    message = `ØªÙ… Ø¥Ø¶Ø§ÙØ© ${count} Ù‚Ø±ÙˆØ¨ Ø§Ù„ÙŠÙˆÙ…`;
                    break;
                case 'categories':
                    message = `Ù…ØªÙˆÙØ± 8 ØªØµÙ†ÙŠÙØ§Øª Ù…ØªÙ†ÙˆØ¹Ø© Ù„Ù„Ù‚Ø±ÙˆØ¨Ø§Øª`;
                    break;
                case 'members':
                    const total = groups.reduce((sum, g) => sum + (g.membersCount || 0), 0);
                    message = `Ø¥Ø¬Ù…Ø§Ù„ÙŠ ${formatNumber(total)} Ø¹Ø¶Ùˆ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚Ø±ÙˆØ¨Ø§Øª`;
                    break;
            }
            showToast(message, 'info', 'fas fa-info-circle');
        }

        // Generate AI Suggestions
        function generateAISuggestions() {
            const suggestions = [
                {
                    icon: 'ğŸ“',
                    title: 'Ù‚Ø±ÙˆØ¨Ø§Øª ØªØ¹Ù„ÙŠÙ…ÙŠØ©',
                    description: 'Ø§ÙƒØªØ´Ù Ù‚Ø±ÙˆØ¨Ø§Øª ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©ØŒ Ø§Ù„Ù„ØºØ§ØªØŒ ÙˆØ§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø°Ø§ØªÙŠ',
                    category: 'ØªØ¹Ù„ÙŠÙ…'
                },
                {
                    icon: 'ğŸ’¼',
                    title: 'ÙØ±Øµ Ø¹Ù…Ù„',
                    description: 'Ù‚Ø±ÙˆØ¨Ø§Øª Ù…ØªØ®ØµØµØ© ÙÙŠ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù ÙˆØ§Ù„ÙØ±Øµ Ø§Ù„Ù…Ù‡Ù†ÙŠØ©',
                    category: 'Ø£Ø¹Ù…Ø§Ù„'
                },
                {
                    icon: 'ğŸ®',
                    title: 'Ø£Ù„Ø¹Ø§Ø¨ ÙˆØªØ±ÙÙŠÙ‡',
                    description: 'Ø§Ù†Ø¶Ù… Ù„Ù…Ø¬ØªÙ…Ø¹Ø§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ§Ù„ØªØ±ÙÙŠÙ‡ Ø§Ù„Ù†Ø´Ø·Ø©',
                    category: 'ØªØ±ÙÙŠÙ‡'
                },
                {
                    icon: 'ğŸ‹ï¸',
                    title: 'Ø±ÙŠØ§Ø¶Ø© ÙˆÙ„ÙŠØ§Ù‚Ø©',
                    description: 'Ù‚Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶Ø©ØŒ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ†ØŒ ÙˆØ§Ù„ØªØºØ°ÙŠØ© Ø§Ù„ØµØ­ÙŠØ©',
                    category: 'ØµØ­Ø©'
                }
            ];

            const grid = document.getElementById('suggestionsGrid');
            grid.innerHTML = '';
            
            suggestions.forEach(suggestion => {
                const item = document.createElement('div');
                item.className = 'suggestion-item';
                item.onclick = () => filterByCategory(suggestion.category);
                item.innerHTML = `
                    <div class="icon">${suggestion.icon}</div>
                    <h4>${suggestion.title}</h4>
                    <p>${suggestion.description}</p>
                `;
                grid.appendChild(item);
            });
        }

        // Toggle AI Suggestions
        function toggleAISuggestions() {
            const suggestions = document.getElementById('aiSuggestions');
            suggestions.classList.toggle('show');
            
            if (suggestions.classList.contains('show')) {
                suggestions.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                showToast('ØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©', 'info', 'fas fa-robot');
            }
        }

        // Export Data
        function exportData() {
            const dataStr = JSON.stringify(groups, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `whatsapp-groups-${new Date().getTime()}.json`;
            link.click();
            URL.revokeObjectURL(url);
            showToast('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­', 'success', 'fas fa-download');
        }

        // Import Data
        function importData(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const imported = JSON.parse(e.target.result);
                        if (Array.isArray(imported)) {
                            if (confirm(`Ø³ÙŠØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ ${imported.length} Ù‚Ø±ÙˆØ¨. Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©ØŸ`)) {
                                groups = imported;
                                localStorage.setItem('whatsappGroups', JSON.stringify(groups));
                                loadGroups();
                                updateStats();
                                showToast('ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­', 'success', 'fas fa-upload');
                            }
                        } else {
                            showToast('Ù…Ù„Ù ØºÙŠØ± ØµØ§Ù„Ø­', 'error', 'fas fa-exclamation-circle');
                        }
                    } catch (error) {
                        showToast('ÙØ´Ù„ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…Ù„Ù', 'error', 'fas fa-exclamation-circle');
                    }
                };
                reader.readAsText(file);
            }
        }

        // Show Toast Notification
        function showToast(message, type = 'success', icon = 'fas fa-check-circle') {
            const toast = document.getElementById('toast');
            const iconElement = toast.querySelector('.toast-icon');
            const messageElement = toast.querySelector('.toast-message');
            
            iconElement.innerHTML = `<i class="${icon}"></i>`;
            messageElement.textContent = message;
            
            toast.className = `toast ${type} show`;
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3500);
        }

        // Keyboard Shortcuts
        document.addEventListener('keydown', (e) => {
            // Ctrl/Cmd + K to open add group modal
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                openModal();
            }
            
            // Escape to close modal
            if (e.key === 'Escape') {
                closeModal();
            }
        });
    </script>
</body>
</html>